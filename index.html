- Precios din√°micos en modal, carrito y WhatsApp
- **Admin oculto**
- 5 clicks en ‚ÄúDocentes Brown‚Äù
- Password: `Brown2025`
- Descuento global %
- Persistente (localStorage)
- NO rompe UX
- NO cambia dise√±o
- NO inventa estructuras

---

## üìå IMPORTANTE
üëâ Copi√° **TODO** este archivo tal cual  
üëâ Reemplaz√° tu `index.html`  
üëâ No mezcles con c√≥digo viejo

---

## üß© C√ìDIGO HTML COMPLETO

```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Tienda Docentes Brown</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600;800&display=swap" rel="stylesheet">

<style>
:root{
  --primary-blue:#1A3B5C;
  --bg-color:#F2F2F7;
  --card-bg:#FFFFFF;
  --text-secondary:#8E8E93;
  --radius-card:20px;
  --radius-btn:12px;
  --font-brand:'League Spartan',sans-serif;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
  background:var(--bg-color);
  padding-bottom:110px;
}
header{
  background:var(--primary-blue);
  padding:20px;
  text-align:center;
  position:sticky;
  top:0;
  z-index:10;
}
header h1{
  color:#fff;
  margin:0;
  font-family:var(--font-brand);
  font-size:1.5rem;
}
header p{color:#ccc;margin:5px 0 0;}
.container{padding:20px;max-width:600px;margin:auto;}
.product-card{
  background:#fff;
  border-radius:var(--radius-card);
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 4px 15px rgba(0,0,0,.05);
  cursor:pointer;
}
.product-title{
  font-family:var(--font-brand);
  font-size:1.4rem;
  color:var(--primary-blue);
}
.product-desc{color:var(--text-secondary);margin:10px 0;}
.price-tag{font-weight:600;color:var(--primary-blue);}

/* MODAL */
.modal-overlay{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  justify-content:flex-end;
  z-index:20;
}
.modal-overlay.active{display:flex;}
.modal-content{
  background:#fff;
  width:100%;
  max-width:600px;
  border-radius:25px 25px 0 0;
  padding:25px;
  max-height:90vh;
  overflow:auto;
}
.close-modal{
  position:absolute;
  top:15px;
  right:20px;
  font-size:24px;
  background:none;
  border:none;
  cursor:pointer;
}
.form-group{margin-bottom:18px;}
.form-label{font-weight:600;font-size:.9rem;}
select{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid #ddd;
  background:#F9F9F9;
}
.current-price{
  text-align:center;
  font-size:1.5rem;
  font-weight:800;
  color:var(--primary-blue);
  margin:20px 0;
}
.btn-add{
  width:100%;
  padding:16px;
  border:none;
  border-radius:14px;
  background:var(--primary-blue);
  color:#fff;
  font-size:1.1rem;
}
.btn-add:disabled{background:#ccc;}

/* CARRITO */
.cart-float{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  width:90%;
  max-width:550px;
  background:#fff;
  border-radius:100px;
  padding:15px 20px;
  box-shadow:0 5px 20px rgba(0,0,0,.15);
  display:none;
  justify-content:space-between;
  align-items:center;
}
.cart-float.show{display:flex;}
.cart-total{font-weight:800;color:var(--primary-blue);}
.btn-whatsapp{
  background:#25D366;
  color:#fff;
  padding:10px 20px;
  border-radius:20px;
  text-decoration:none;
  font-weight:bold;
}
</style>
</head>

<body>

<header>
  <h1 id="adminTrigger">Docentes Brown</h1>
  <p>Herramientas de Gesti√≥n Educativa</p>
</header>

<div class="container">
  <div class="product-card" onclick="openModal('profesores')">
      <div class="product-title">Calificador Profesores</div>
      <div class="product-desc">Gesti√≥n de cursos y promedios</div>
      <span class="price-tag">Configurar ‚ûú</span>
  </div>

  <div class="product-card" onclick="openModal('maestros')">
      <div class="product-title">Calificador Maestrxs</div>
      <div class="product-desc">Grados, notas y asistencia</div>
      <span class="price-tag">Configurar ‚ûú</span>
  </div>

  <div class="product-card" onclick="openModal('digital')">
      <div class="product-title">Calificador Digital</div>
      <div class="product-desc">Excel o App m√≥vil</div>
      <span class="price-tag">Configurar ‚ûú</span>
  </div>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="modal">
<div class="modal-content">
<button class="close-modal" onclick="closeModal()">√ó</button>
<h2 id="modalTitle"></h2>
<div id="dynamic-fields"></div>
<div class="current-price" id="modal-price">$0</div>
<button class="btn-add" id="btnAdd" onclick="addToCart()" disabled>Agregar al pedido</button>
</div>
</div>

<!-- CARRITO -->
<div class="cart-float" id="cart">
<div class="cart-total" id="cartTotal">$0</div>
<a class="btn-whatsapp" onclick="checkout()">Enviar pedido</a>
</div>

<script>
const CSV_URL="https://docs.google.com/spreadsheets/d/e/2PACX-1vTXegIgxvYuUiHgQBgJIvIexndD6QYUi-UKz0lGem04RYDLkOo3OmdXNME1e63A3g/pub?output=csv";
const WA_NUMBER="5491153196358";
const ADMIN_PASS="Brown2025";

let DATA={prof:[],maes:[],tema:[],dig:[],lib:[],add:[]};
let cart=[],currentType="",currentSelection={};
let discount=Number(localStorage.getItem("discount")||0);

/* CARGA CSV */
fetch(CSV_URL).then(r=>r.text()).then(t=>{
  t.split("\n").slice(1).forEach(l=>{
      const r=l.split(",");
      if(r[0])DATA.prof.push({n:r[0],p:+r[1]});
      if(r[2])DATA.maes.push({n:r[2],p:+r[3]});
      if(r[4])DATA.tema.push({n:r[4],p:+r[5]});
      if(r[6])DATA.dig.push({n:r[6],p:+r[7]});
      if(r[8])DATA.lib.push({n:r[8],p:+r[9]});
      if(r[10])DATA.add.push({n:r[10],p:+r[11]});
  });
});

/* MODAL */
function openModal(t){
  currentType=t;
  document.getElementById("modal").classList.add("active");
  renderFields();
}
function closeModal(){
  document.getElementById("modal").classList.remove("active");
}
function select(label,id,arr){
  return `<div class="form-group">
      <label class="form-label">${label}</label>
      <select id="${id}" onchange="updatePrice()">
          <option value="0">Seleccionar...</option>
          ${arr.map(o=>`<option value="${o.p}" data-name="${o.n}">${o.n}</option>`).join("")}
      </select>
  </div>`;
}
function renderFields(){
  let h="";
  if(currentType==="profesores"){
      h+=select("Cursos","base",DATA.prof);
      h+=select("Tema","tema",DATA.tema);
      h+=select("Librer√≠a","lib",DATA.lib);
      h+=select("Adicionales","add",DATA.add);
      h+=select("Digital","dig",DATA.dig);
  }
  if(currentType==="maestros"){
      h+=select("Grados","base",DATA.maes);
      h+=select("Tema","tema",DATA.tema);
      h+=select("Librer√≠a","lib",DATA.lib);
      h+=select("Adicionales","add",DATA.add);
      h+=select("Digital","dig",DATA.dig);
  }
  if(currentType==="digital"){
      h+=select("Formato","base",DATA.dig);
  }
  document.getElementById("dynamic-fields").innerHTML=h;
  document.getElementById("btnAdd").disabled=true;
  document.getElementById("modal-price").innerText="$0";
}

/* PRECIO */
function updatePrice(){
  let total=0,valid=true,det=[];
  document.querySelectorAll("#dynamic-fields select").forEach(s=>{
      const p=+s.value;
      if(s.id==="base"&&p===0)valid=false;
      total+=p;
      const n=s.options[s.selectedIndex]?.dataset.name;
      if(n)det.push(n);
  });
  if(discount>0)total=Math.round(total*(1-discount/100));
  document.getElementById("modal-price").innerText="$"+total.toLocaleString("es-AR");
  document.getElementById("btnAdd").disabled=!valid;
  currentSelection={price:total,details:det};
}

/* CARRITO */
function addToCart(){
  cart.push(currentSelection.price);
  closeModal();
  updateCart();
}
function updateCart(){
  const t=cart.reduce((a,b)=>a+b,0);
  document.getElementById("cart").classList.add("show");
  document.getElementById("cartTotal").innerText="$"+t.toLocaleString("es-AR");
}
function checkout(){
  window.open(`https://wa.me/${WA_NUMBER}?text=Total%20$${cart.reduce((a,b)=>a+b,0)}`);
}

/* ADMIN */
let clicks=0;
document.getElementById("adminTrigger").onclick=()=>{
  clicks++;
  if(clicks===5){
      const p=prompt("Contrase√±a admin:");
      if(p===ADMIN_PASS){
          const d=prompt("Descuento %",discount);
          discount=Number(d||0);
          localStorage.setItem("discount",discount);
          alert("Descuento aplicado");
      }
      clicks=0;
  }
};
</script>

</body>
</html>
